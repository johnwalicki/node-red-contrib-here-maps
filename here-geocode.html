<script type="text/javascript">
  RED.nodes.registerType('here-geocode',{
    category: 'location',
    color: "#FFD700",
    icon: "font-awesome/fa-map-marker",
    inputs:1,
    outputs:1,
    defaults: {
      name: { value:""},
      query: {value:""},
      in: {value:""},
      apikey: {value:"", type:"hereapikey",required: true}
    },
    label: function() {
      return this.name||"HERE Geo Search";
    }
  });
</script>

<script type="text/x-red" data-template-name="here-geocode">
  <div class="form-row">
    <label for="node-input-apikey"><i class="fa fa-key"></i> API Key</label>
    <input type="text" id="node-input-apikey">
  </div>
  <div class="form-row">
    <label for="node-input-query"><i class="fa fa-globe"></i>query</label>
    <input type="text" id="node-input-query" placeholder="">
  </div>
  <div class="form-row">
    <label for="node-input-in"><i class="fa fa-globe"></i>in</label>
    <input type="text" id="node-input-in" placeholder="">
  </div>
  <div class="form-row">
    <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
    <input type="text" id="node-input-name">
  </div>
</script>

<script type="text/x-red" data-help-name="here-geocode">
  <p>Resolving addresses to geo-coordinates and vice-versa
  <p>Calculate directions for private transport between two locations by providing the starting/ending waypoints and routing modes.
  <p>See the <a target="_blank" href="https://developer.here.com/documentation/maps/3.1.19.0/dev_guide/topics/geocoding.html">online documentation</a>
for more information about the <strong>HERE GeoCode and Search API</strong>.</p>
  <h3>Inputs:</h3>
  <dl class="message-properties">
    <dt class="optional">msg.hereparams.query<span class="property-type">string</span></dt>
    <dd>Enter a free-text query. This is a required parameter. Examples:
      125, Berliner, berlin.<br>
      Beacon, Boston, Hospital.
    </dd>
  </dl>
  <dl class="message-properties">
    <dt class="optional">msg.hereparams.in <span class="property-type">string</span></dt>
    <dd>
      Optional parameter. Search within a geographic area. Results will be returned if they are located within the specified area.a country (or multiple countries), provided as comma-separated <a href="https://en.wikipedia.org/wiki/ISO_3166-1_alpha-3">ISO 3166-1 alpha-3</a> country codes.<br>
      The country codes are to be provided in all uppercase.<br>
      Examples:<br>
      countryCode:USA<br>
      countryCode:CAN,MEX,USA
    </dd>
  </dl>
  <h3>Outputs:</h3>
  <dl class="message-properties">
    <dt class="optional">msg.payload.response <span class="property-type">object</span></dt>
    <dd>Array of json objects containing the results of query</dd>
    <dd>Find details on the <a target="_blank" href="https://developer.here.com/documentation/geocoding-search-api/api-reference-swagger.html">Geo Code Search</a> data elements and definitions.</dd>
    <dt class="optional">msg.hereparams <span class="property-type">object</span></dt>
    <dd>Array of json objects containing request parameters</dd>
  </dl>
</script>
